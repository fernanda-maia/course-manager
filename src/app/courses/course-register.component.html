<h2>New Course</h2>

<form #courseForm="ngForm" (submit)="save()">
    <div class="img-selector">
        <label>
            <input type="radio" [(ngModel)]="course.imageUrl" name="imageUrl" 
                value="/assets/images/angular.svg" checked>
            <img src="/assets/images/angular.svg">
        </label>

        <label>
            <input type="radio" [(ngModel)]="course.imageUrl" name="imageUrl"
                value="/assets/images/java.svg">
            <img src="/assets/images/java.svg">
        </label>
        <label>
            <input type="radio" [(ngModel)]="course.imageUrl" name="imageUrl" 
                value="/assets/images/kotlin.svg">
            <img src="/assets/images/kotlin.svg">
        </label>
        <label>
            <input type="radio" [(ngModel)]="course.imageUrl" name="imageUrl"
                value="/assets/images/postgresql.svg" >
            <img src="/assets/images/postgresql.svg">
        </label>
        <label>
            <input type="radio" [(ngModel)]="course.imageUrl" name="imageUrl" 
                value="/assets/images/python.svg" >
            <img src="/assets/images/python.svg">
        </label>
        <label>
            <input type="radio" [(ngModel)]="course.imageUrl" name="imageUrl" 
                value="/assets/images/cpp.svg" >
            <img src="/assets/images/cpp.svg">
        </label>
    </div>

    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Name</label>
        <div class="col-sm-8">
            <input [(ngModel)]="course.name" name="name" required #courseName="ngModel"
            [ngClass]="{'is-invalid': courseName.invalid}"
            class="form-control" />

            <div class="invalid-feedback">
                <span>Course name is required</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Code</label>
        <div class="col-sm-8">
            <input [(ngModel)]="course.code" minlength="6" maxlength="6" name="code" 
                required #courseCode="ngModel"
            [ngClass]="{'is-invalid': courseCode.invalid}"
            class="form-control" />

            <div class="invalid-feedback">
                <span>Code length is 6</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Release Date</label>
        <div class="col-sm-8">
            <input [(ngModel)]="course.releaseDate" name="Release" required #courseRelease="ngModel"
            type="date" 
            [ngClass]="{'is-invalid': courseRelease.invalid}"
            class="form-control"/>

            <div class="invalid-feedback">
                <span>Invalid Release</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Price</label>
        <div class="col-sm-8">
            <input [(ngModel)]="course.price" name="price" required #coursePrice="ngModel"
            type="number" min="0"
            [ngClass]="{'is-invalid': coursePrice.invalid}"
            class="form-control"/>

            <div class="invalid-feedback">
                <span>Invalid Price</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Duration</label>
        <div class="col-sm-8">
            <input [(ngModel)]="course.duration" name="duration" required #courseDuration="ngModel"
            type="number" min="30"
            [ngClass]="{'is-invalid': courseDuration.invalid}"
            class="form-control"/>

            <div class="invalid-feedback">
                <span>Invalid Duration</span>
            </div>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Initial Rating</label>
        <div class="col-sm-8">
            <input [(ngModel)]="course.rating" name="rating" required #courseRating="ngModel"
            type="number" min="0" max="5"
            [ngClass]="{'is-invalid': courseDuration.invalid}"
            class="form-control"/>

            <div class="invalid-feedback">
                <span>Rating out of Range</span>
            </div>
        </div>
    </div>
    
    <div class="form-group">
        <button [routerLink]="['/courses']" class="btn btn-outline-danger" type="reset">Cancel</button>
        <button [disabled]="courseForm.invalid" class="btn btn-success" type="submit">Save</button>
    </div>
</form>